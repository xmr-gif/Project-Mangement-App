<div class="flex h-screen bg-gray-800 overflow-hidden">

  <!-- Sidebar -->
  <aside class="w-64 bg-gray-900 flex-shrink-0">
    <app-sidebar></app-sidebar>
  </aside>

  <!-- Right side -->
  <div class="flex flex-col flex-1 overflow-hidden">

    <!-- Navbar -->
    <app-navbar class="w-full flex-shrink-0"></app-navbar>

    <!-- Main content -->
    <main class="flex-1 overflow-hidden p-6 flex flex-col">

      <!-- Title -->
      <h1 class="text-white text-3xl font-bold mb-6 flex-shrink-0">
        Tickets
      </h1>

      <!-- Tickets container with EXPLICIT HEIGHT -->
      <div class="bg-gray-900 rounded-xl p-6 flex-1 flex flex-col overflow-hidden">

        <!-- Toolbar -->
        <div class="flex-shrink-0">
          <app-tickets-toolbar
            [(searchQuery)]="searchQuery"
            (newTicketClicked)="onNewTicket()"
            (priorityChanged)="onPriorityChanged($event)"
            (assigneeChanged)="onAssigneeChanged($event)"
          >
          </app-tickets-toolbar>
        </div>

        <!-- BOARD with explicit height -->
        <div class="flex-1 overflow-hidden">
          <app-tickets-board
            [tickets]="filteredTickets()"
            (ticketMoved)="onTicketMoved($event)"
          >
          </app-tickets-board>
        </div>

      </div>

    </main>

  </div>

</div>

<!-- Modal -->
@if (showModal()) {
  <app-new-ticket-modal
    (closeModal)="onCloseModal()"
    (createTicket)="onCreateTicket($event)"
  >
  </app-new-ticket-modal>
}
