<div class="bg-gray-900 rounded-xl p-6 h-full flex flex-col">

  <!-- Header with close button -->
  <div class="flex items-center justify-between mb-6">
    <h2 class="text-white text-xl font-semibold">Notification Details</h2>
    <button
      (click)="close()"
      class="text-gray-400 hover:text-white transition-colors"
    >
      <lucide-angular name="X" class="w-5 h-5"></lucide-angular>
    </button>
  </div>

  <!-- Notification Info -->
  <div class="space-y-4 flex-1 overflow-y-auto pr-2
              [&::-webkit-scrollbar]:w-2
              [&::-webkit-scrollbar-track]:bg-gray-800
              [&::-webkit-scrollbar-thumb]:bg-gray-700
              [&::-webkit-scrollbar-thumb]:rounded-md">

    @if (notification()) {

      <!-- Status Badge -->
      <div class="flex items-center gap-2">
        <span
          class="px-3 py-1 text-xs rounded-full font-medium"
          [class.bg-blue-900]="notification().status === 'unread'"
          [class.text-blue-200]="notification().status === 'unread'"
          [class.bg-gray-700]="notification().status !== 'unread'"
          [class.text-gray-300]="notification().status !== 'unread'"
        >
          {{ notification().status | titlecase }}
        </span>

        <span
          class="px-3 py-1 text-xs rounded-full font-medium"
          [class.bg-red-900]="notification().priority === 'high'"
          [class.text-red-200]="notification().priority === 'high'"
          [class.bg-yellow-900]="notification().priority === 'medium'"
          [class.text-yellow-200]="notification().priority === 'medium'"
          [class.bg-green-900]="notification().priority === 'low'"
          [class.text-green-200]="notification().priority === 'low'"
        >
          {{ notification().priority | titlecase }} Priority
        </span>
      </div>

      <!-- Title -->
      <div>
        <label class="text-gray-400 text-sm">Title</label>
        <h3 class="text-white text-lg font-semibold mt-1">
          {{ notification().title }}
        </h3>
      </div>

      <!-- Description -->
      @if (notification().description) {
        <div>
          <label class="text-gray-400 text-sm">Description</label>
          <p class="text-gray-300 text-sm mt-1 leading-relaxed">
            {{ notification().description }}
          </p>
        </div>
      }

      <!-- Date & Time -->
      <div class="grid grid-cols-2 gap-4">
        <div>
          <label class="text-gray-400 text-sm flex items-center gap-2">
            <lucide-angular name="Calendar" class="w-4 h-4"></lucide-angular>
            Date
          </label>
          <p class="text-white text-sm mt-1">
            {{ notification().date | date:'MMM dd, yyyy' }}
          </p>
        </div>
        <div>
          <label class="text-gray-400 text-sm flex items-center gap-2">
            <lucide-angular name="Clock4" class="w-4 h-4"></lucide-angular>
            Time
          </label>
          <p class="text-white text-sm mt-1">
            {{ notification().formattedDate || (notification().date | date:'HH:mm') }}
          </p>
        </div>
      </div>

      <!-- Tags + Action -->
      @if (notification()) {
        @let notif = notification();

        @if (notif.action) {
          <div>
            <p class="text-gray-400 text-sm mb-2">Suggested Action</p>
            <button
              class="w-full bg-blue-700 hover:bg-blue-600 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors"
            >
              <lucide-angular name="ExternalLink" class="w-4 h-4"></lucide-angular>
              {{ notif.action.text }}
            </button>
          </div>
        }

      }

    }

  </div>

  <!-- Action Buttons -->
  <div class="flex gap-2 pt-4 border-t border-gray-800">
    <button
      (click)="markAsRead()"
      class="flex-1 bg-gray-800 hover:bg-gray-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors"
    >
      <lucide-angular name="Check" class="w-4 h-4"></lucide-angular>
      Mark as Read
    </button>
    <button
      (click)="close()"
      class="flex-1 bg-gray-800 hover:bg-gray-700 text-white py-2 rounded-lg flex items-center justify-center gap-2 transition-colors"
    >
      <lucide-angular name="X" class="w-4 h-4"></lucide-angular>
      Close
    </button>
  </div>
</div>
