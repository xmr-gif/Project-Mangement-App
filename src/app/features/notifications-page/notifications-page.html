<div class="flex h-screen w-screen bg-gray-800">

  <!-- Sidebar -->
  <aside class="w-64 bg-gray-900">
    <app-sidebar></app-sidebar>
  </aside>

  <!-- Right side -->
  <div class="flex flex-col flex-1 overflow-hidden">

    <!-- Navbar -->
    <div class="w-full flex-shrink-0">
      <app-navbar></app-navbar>
    </div>

    <!-- Main content -->
    <main class="flex-1 p-4 overflow-hidden flex flex-col">
      <app-notifications-header 
        (filterChange)="onFilterChange($event)"
        (searchChange)="onSearchChange($event)"
        (markAllAsRead)="onMarkAllAsRead()">
      </app-notifications-header>
      <div class="flex-1 min-h-0 mt-4 flex gap-4">
        <!-- Notifications Inbox (70% or 100%) -->
        <div [class.flex-1]="!selectedNotification" [class.w-2/3]="selectedNotification">
          <app-notifications-inbox 
            (notificationSelected)="onNotificationSelected($event)">
          </app-notifications-inbox>
        </div>
        
        <!-- Notification Detail (30%) -->
        @if (selectedNotification) {
          <div class="w-1/3">
            <app-notification-detail 
              [notification]="selectedNotification"
              (onClose)="closeNotificationDetail()"
              (onMarkAsRead)="onMarkNotificationAsRead($event)">
            </app-notification-detail>
          </div>
        }
      </div>
    </main>
  </div>

</div>
