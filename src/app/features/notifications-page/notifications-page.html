<div class="flex h-screen w-screen bg-gray-800">

  <!-- Sidebar -->
  <aside class="w-64 bg-gray-900">
    <app-sidebar></app-sidebar>
  </aside>

  <!-- Right side -->
  <div class="flex flex-col flex-1 overflow-hidden">

    <!-- Navbar -->
    <div class="w-full flex-shrink-0">
      <app-navbar></app-navbar>
    </div>

    <!-- Main content -->
    <main class="flex-1 p-4 overflow-hidden flex flex-col">
      <app-notifications-header
        (filterChange)="onFilterChange($event)"
        (searchChange)="onSearchChange($event)"
        (markAllAsRead)="onMarkAllAsRead()">
      </app-notifications-header>
      <div class="flex-1 min-h-0 mt-4 flex gap-4">
        <!-- Notifications Inbox (70% when detail is open, 100% otherwise) -->
        <div [class.w-7/10]="isDetailOpen" [class.flex-1]="!isDetailOpen" class="min-w-0">
          <app-notifications-inbox
            [notifications]="filteredNotifications"
            [selectedNotificationId]="selectedNotification?.id || null"
            (notificationSelected)="onNotificationSelected($event)">
          </app-notifications-inbox>
        </div>

        <!-- Notification Detail (30%) -->
        @if (isDetailOpen && selectedNotification) {
          <div class="w-3/10 min-w-0">
            <app-notification-detail
              [notification]="selectedNotification"
              (onClose)="closeNotificationDetail()"
              (onMarkAsRead)="onMarkNotificationAsRead($event)">
            </app-notification-detail>
          </div>
        }
      </div>

    </main>
      </div>
</div>


